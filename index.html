<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Inky Dinky</title>
  <style>
    body {
      font-family: monospace;
      background-color: #000;
      color: #eee;
      text-align: center;
      padding: 1rem;
      margin: 0;
    }

    .title-box {
      font-size: 2.5rem;
      margin-bottom: 1.5rem;
    }

    .neon-green {
      color: #39ff14;
      text-shadow: 0 0 5px #39ff14, 0 0 10px #39ff14;
    }

    .neon-blue {
      color: #00f0ff;
      text-shadow: 0 0 5px #00f0ff, 0 0 10px #00f0ff;
    }

    .description {
      font-size: 1.2rem;
      color: #14fe64;
      margin: 1rem 0;
    }

    input[type="text"] {
      padding: 0.6rem;
      font-size: 1rem;
      background-color: #111;
      color: #eee;
      border: 1px solid #444;
      border-radius: 4px;
      width: 90%;
      max-width: 400px;
      margin-bottom: 1rem;
    }

    button {
      padding: 0.6rem 1.2rem;
      font-size: 1rem;
      margin: 0.5rem;
      background-color: #222;
      color: #eee;
      border: 1px solid #555;
      border-radius: 4px;
      cursor: pointer;
    }

    .modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: rgba(0, 0, 0, 0.85);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 999;
    }

    .modal.hidden {
      display: none;
    }

    .modal-content {
      background-color: #111;
      border: 2px solid #444;
      padding: 2rem;
      border-radius: 10px;
      width: 90%;
      max-width: 500px;
      text-align: center;
    }
  </style>
</head>
<body>

  <div class="title-box">
    <span class="neon-green">Inky</span> <span class="neon-blue">Dinky</span>
  </div>

  <div id="description" class="description">Loading...</div>

  <input type="text" id="guess-input" placeholder="Type your rhyming guess..." />
  <br />
  <button id="submit-btn">Submit</button>

  <!-- Success Modal -->
  <div id="success-modal" class="modal hidden">
    <div class="modal-content">
      <h2 class="neon-green">Correct!</h2>
      <button id="next-btn">Next Rhyme</button>
      <button id="copy-btn">Share</button>
    </div>
  </div>

  <!-- Error Modal (wrong guess limit reached) -->
  <div id="error-modal" class="modal hidden">
    <div class="modal-content">
      <h2 class="neon-blue">Oops! That wasnâ€™t it.</h2>
      <p>Want to try another rhyme?</p>
      <button id="try-again-btn">Try Another</button>
    </div>
  </div>

  <script>
    const wordBank = [
      { answer: 'Witness Fitness', description: 'Someone observing physical training' },
      { answer: 'Atomic Comic', description: 'An immeasurably small professional joker' },
      { answer: 'Cricket Picket', description: 'A group protesting a rhythmic chirping insect' },
      { answer: 'Taco Wacko', description: 'A crazy person who loves Mexican food' },
      { answer: 'Fashion Ration', description: 'Limited supply of stylish clothes' },
    ];

    let current = null;
    let wrongGuesses = 0;
    const maxGuesses = 3;

    const descriptionEl = document.getElementById('description');
    const guessInput = document.getElementById('guess-input');
    const submitBtn = document.getElementById('submit-btn');

    const successModal = document.getElementById('success-modal');
    const errorModal = document.getElementById('error-modal');

    const nextBtn = document.getElementById('next-btn');
    const copyBtn = document.getElementById('copy-btn');
    const tryAgainBtn = document.getElementById('try-again-btn');

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function nextRound() {
      current = wordBank[Math.floor(Math.random() * wordBank.length)];
      descriptionEl.textContent = current.description;
      guessInput.value = '';
      wrongGuesses = 0;
    }

    function showSuccessModal() {
      successModal.classList.remove('hidden');
    }

    function hideSuccessModal() {
      successModal.classList.add('hidden');
    }

    function showErrorModal() {
      errorModal.classList.remove('hidden');
    }

    function hideErrorModal() {
      errorModal.classList.add('hidden');
    }

    function processGuess() {
      const guess = guessInput.value.trim().toLowerCase();
      const correct = current.answer.toLowerCase();

      if (guess === correct) {
        showSuccessModal();
      } else {
        wrongGuesses++;
        if (wrongGuesses >= maxGuesses) {
          showErrorModal();
        } else {
          alert(`Try again! ${maxGuesses - wrongGuesses} guess(es) left.`);
        }
      }
    }

    submitBtn.addEventListener('click', processGuess);
    guessInput.addEventListener('keypress', e => {
      if (e.key === 'Enter') processGuess();
    });

    nextBtn.addEventListener('click', () => {
      hideSuccessModal();
      nextRound();
    });

    tryAgainBtn.addEventListener('click', () => {
      hideErrorModal();
      nextRound();
    });

    successModal.addEventListener('click', (e) => {
      if (e.target === successModal) hideSuccessModal();
    });

    errorModal.addEventListener('click', (e) => {
      if (e.target === errorModal) hideErrorModal();
    });

    copyBtn.addEventListener('click', () => {
      const shareText = `I solved this rhyme: ${current.answer} ðŸ’¥ Play Inky Dinky!`;
      navigator.clipboard.writeText(shareText)
        .then(() => {
          copyBtn.textContent = 'Copied!';
          setTimeout(() => copyBtn.textContent = 'Share', 2000);
        })
        .catch(() => {
          alert('Copy failed. Try manually: ' + shareText);
        });
    });

    shuffle(wordBank);
    nextRound();
  </script>
</body>
</html>
